{"ast":null,"code":"export default {\n  name: \"RecordManagement\",\n  data() {\n    return {\n      goodstypeData: [],\n      storageData: [],\n      storage: '',\n      goodstype: '',\n      tableData: [],\n      pageSize: 10,\n      pageNum: 1,\n      total: 0,\n      name: '',\n      //refer v-model里的name\n      centerDialogVisible: false,\n      form: {\n        id: '',\n        name: '',\n        storage: '',\n        goodstype: '',\n        count: '',\n        remark: ''\n      }\n    };\n  },\n  methods: {\n    formatStorage(row) {\n      let temp = this.storageData.find(item => {\n        return item.id == row.storage;\n      });\n      return temp && temp.name;\n    },\n    formatGoodsType(row) {\n      let temp = this.goodstypeData.find(item => {\n        // console.log(item.id)\n        // console.log(item.name)\n        console.log(row);\n        return item.id == row.goodstype;\n      });\n      // console.log(temp)\n      return temp && temp.name;\n    },\n    resetForm() {\n      this.$refs.form.resetFields();\n    },\n    handleSizeChange(val) {\n      console.log(`${val} items per page`);\n      this.pageNum = 1;\n      this.pageSize = val;\n      this.loadPost();\n    },\n    handleCurrentChange(val) {\n      console.log(`current page: ${val}`);\n      this.pageNum = val;\n      this.loadPost();\n    },\n    resetParam() {\n      this.name = '';\n      this.storage = '';\n      this.goodstype = '';\n    },\n    loadPost() {\n      this.$axios.post(this.$httpUrl + '/record/listPageEn', {\n        pageSize: this.pageSize,\n        pageNum: this.pageNum,\n        param: {\n          name: this.name,\n          //refer data里的name\n          goodstype: this.goodstype + '',\n          storage: this.storage + ''\n        }\n      }).then(res => res.data).then(res => {\n        console.log(res);\n        if (res.code == 200) {\n          this.tableData = res.data;\n          this.total = res.total;\n        } else {\n          alert(\"Resource Get Failed\");\n        }\n      });\n    }\n    // loadStorage(){\n    //   this.$axios.get(this.$httpUrl+'/storage/list').then(res=>res.data).then(res=>{\n    //   console.log(res)\n    //   if(res.code==200){\n    //     this.storageData=res.data\n    //   }else{\n    //     alert(\"Resource Get Failed\")\n    //   }\n    //\n    // })},\n    // loadGoodsType(){\n    //   this.$axios.get(this.$httpUrl+'/goodstype/list').then(res=>res.data).then(res=>{\n    //     console.log(res)\n    //     if(res.code==200){\n    //       this.goodstypeData=res.data\n    //     }else{\n    //       alert(\"Resource Get Failed\")\n    //     }\n    //\n    //   })},\n  },\n\n  beforeMount() {\n    this.loadPost();\n  }\n};","map":{"version":3,"mappings":"AAqEA;EACAA;EACAC;IAEA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAT;MAAA;MACAU;MACAC;QACAC;QACAZ;QACAI;QACAC;QACAQ;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;QACA;MACA;MAEA;IACA;IACAC;MACA;QACA;QACA;QACAC;QACA;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAF;MACA;MACA;MACA;IACA;IACAG;MACAH;MACA;MACA;IACA;IACAI;MACA;MACA;MACA;IACA;IAEAC;MACA;QACAhB;QACAC;QACAgB;UACAxB;UAAA;UACAK;UACAD;QACA;MACA;QACAc;QACA;UACA;UACA;QACA;UACAO;QACA;MAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACA;;EAEAC;IACA;EACA;AAEA","names":["name","data","goodstypeData","storageData","storage","goodstype","tableData","pageSize","pageNum","total","centerDialogVisible","form","id","count","remark","methods","formatStorage","formatGoodsType","console","resetForm","handleSizeChange","handleCurrentChange","resetParam","loadPost","param","alert","beforeMount"],"sourceRoot":"src/components/record","sources":["RecordManagement.vue"],"sourcesContent":["<template>\n  <div>\n    <div style=\"margin-bottom: 10px;text-align: center\">\n      <el-input v-model=\"name\" placeholder=\"Please enter item name\" suffix-icon=\"el-icon-search\" style=\"width:200px\"\n                @keyup.enter.native=\"loadPost\"></el-input>\n\n      <el-select v-model=\"storage\" placeholder=\"Select warehouse\" style=\"margin-left: 5px;\">\n        <el-option\n            v-for=\"item in storageData\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\">\n        </el-option>\n      </el-select>\n      <el-select v-model=\"goodstype\" placeholder=\"Select Classification\" style=\"margin-left: 5px;\">\n        <el-option\n            v-for=\"item in goodstypeData\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\">\n        </el-option>\n      </el-select>\n\n\n      <el-button type=\"primary\" style=\"margin-left: 10px\" @click=\"loadPost\">Search</el-button>\n      <el-button type=\"success\" @click=\"resetParam\">Reset</el-button>\n\n      <el-button type=\"primary\" style=\"margin-left: 10px\" @click=\"add\">Add</el-button>\n    </div>\n    <el-table :data=\"tableData\"\n              :header-cell-style=\"{ background:'#f2f5f2', color:'#555555'}\"\n              border\n    >\n      <el-table-column prop=\"id\" label=\"ID\" width=\"200\">\n      </el-table-column>\n      <el-table-column prop=\"name\" label=\"Item Name\" width=\"280\">\n      </el-table-column>\n      <el-table-column prop=\"storage\" label=\"Warehouse\" width=\"280\" >\n      </el-table-column>\n      <el-table-column prop=\"goodstype\" label=\"Classification\" width=\"280\" >\n      </el-table-column>\n      <el-table-column prop=\"adminId\" label=\"Operator\" width=\"280\">\n      </el-table-column>\n      <el-table-column prop=\"userid\" label=\"Applicant\" width=\"280\">\n      </el-table-column>\n      <el-table-column prop=\"count\" label=\"Volume\" width=\"280\">\n      </el-table-column>\n      <el-table-column prop=\"createtime\" label=\"Operate Time\" width=\"280\">\n      </el-table-column>\n\n      <el-table-column prop=\"remark\" label=\"remark\" width=\"500\">\n      </el-table-column>\n\n    </el-table>\n    <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"pageNum\"\n        :page-sizes=\"[5, 10, 20,30]\"\n        :page-size=\"pageSize\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\">\n    </el-pagination>\n\n  </div>\n</template>\n\n\n<script>\nexport default {\n  name: \"RecordManagement\",\n  data() {\n\n    return{\n      goodstypeData:[],\n      storageData:[],\n      storage: '',\n      goodstype: '',\n      tableData: [],\n      pageSize:10,\n      pageNum:1,\n      total:0,\n      name:'',//refer v-model里的name\n      centerDialogVisible:false,\n      form:{\n        id:'',\n        name:'',\n        storage:'',\n        goodstype:'',\n        count:'',\n        remark:''\n      },\n    }\n  },\n  methods: {\n    formatStorage(row){\n      let temp = this.storageData.find(item=>{\n        return item.id ==row.storage\n      })\n\n      return temp && temp.name\n    },\n    formatGoodsType(row){\n      let temp = this.goodstypeData.find(item=>{\n        // console.log(item.id)\n        // console.log(item.name)\n        console.log(row)\n        return item.id ==row.goodstype\n      })\n      // console.log(temp)\n      return temp && temp.name\n    },\n    resetForm() {\n      this.$refs.form.resetFields();\n    },\n    handleSizeChange(val) {\n      console.log(`${val} items per page`);\n      this.pageNum=1\n      this.pageSize=val\n      this.loadPost()\n    },\n    handleCurrentChange(val) {\n      console.log(`current page: ${val}`);\n      this.pageNum=val\n      this.loadPost()\n    },\n    resetParam(){\n      this.name=''\n      this.storage=''\n      this.goodstype=''\n    },\n\n    loadPost() {\n      this.$axios.post(this.$httpUrl+'/record/listPageEn',{\n        pageSize: this.pageSize,\n        pageNum:this.pageNum,\n        param:{\n          name:this.name,//refer data里的name\n          goodstype: this.goodstype+'',\n          storage: this.storage+''\n        }\n      }).then(res=>res.data).then(res=>{\n        console.log(res)\n        if(res.code==200){\n          this.tableData=res.data\n          this.total=res.total\n        }else{\n          alert(\"Resource Get Failed\")\n        }\n\n      })\n    },\n    // loadStorage(){\n    //   this.$axios.get(this.$httpUrl+'/storage/list').then(res=>res.data).then(res=>{\n    //   console.log(res)\n    //   if(res.code==200){\n    //     this.storageData=res.data\n    //   }else{\n    //     alert(\"Resource Get Failed\")\n    //   }\n    //\n    // })},\n    // loadGoodsType(){\n    //   this.$axios.get(this.$httpUrl+'/goodstype/list').then(res=>res.data).then(res=>{\n    //     console.log(res)\n    //     if(res.code==200){\n    //       this.goodstypeData=res.data\n    //     }else{\n    //       alert(\"Resource Get Failed\")\n    //     }\n    //\n    //   })},\n  },\n\n  beforeMount() {\n    this.loadPost()\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}